<!-- InventoryController as ic -->
<nav ng-include="'/views/templates/navbar.html'"></nav>
<!-- crop	variety	purchase date	Lot #	Quantity	Item Code	supplier_id	Organic: T/F	Untreated: T/F	NonGMO: T/F	seed_check_sources	receipt_img_url -->
<button type="button" ng-click="ic.open()">Add Seed</button>

<div class="container">
  <div class="alert alert-info">
          Sort Type: {{ ic.sortType }}
          <br>
          Sort Reverse: {{ ic.sortReverse }}
          <br>
          Search Query: {{ ic.searchSeeds }}
  </div>
<table class="table table-bordered table-striped">
<thead>
  <tr>
    <td>
        <a  ng-click="sortType = 'crop'; sortReverse = !sortReverse">
          Crop
          <span ng-show="sortType == 'crop' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'crop' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>
    <td>
        <a  ng-click="sortType = 'variety'; sortReverse = !sortReverse">
          Variety
          <span ng-show="sortType == 'variety' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'variety' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>
    <td>
        <a  ng-click="sortType = 'purchase_date'; sortReverse = !sortReverse">
          Date
          <span ng-show="sortType == 'purchase_date' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'purchase_date' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>
    <td>
        <a  ng-click="sortType = 'lot_number'; sortReverse = !sortReverse">
          Lot Number
          <span ng-show="sortType == 'lot_number' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'lot_number' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>
    <td>
        <a  ng-click="sortType = 'quanity'; sortReverse = !sortReverse">
          Quanity
          <span ng-show="sortType == 'quanity' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'quanity' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>

    <td>
        <a  ng-click="sortType = 'item_code'; sortReverse = !sortReverse">
          Item Code
          <span ng-show="sortType == 'item_code' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'item_code' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>
    <td>
        <a  ng-click="sortType = 'organic'; sortReverse = !sortReverse">
          Organic
          <span ng-show="sortType == 'organic' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'organic' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>
    <td>
        <a  ng-click="sortType = 'untreated'; sortReverse = !sortReverse">
          Untreated
          <span ng-show="sortType == 'untreated' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'untreated' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>
    <td>
        <a  ng-click="sortType = 'non_gmo'; sortReverse = !sortReverse">
          NonGMO
          <span ng-show="sortType == 'non_gmo' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'non_gmo' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>

    <td>
        <a  ng-click="sortType = 'name'; sortReverse = !sortReverse">
          Supplier
          <span ng-show="sortType == 'name' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'name' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>

    <td>
        <a  ng-click="sortType = 'seed_check_sources'; sortReverse = !sortReverse">
          Seed Check
          <span ng-show="sortType == 'seed_check_sources' && !sortReverse" class="fa fa-caret-down"></span>
          <span ng-show="sortType == 'seed_check_sources' && sortReverse" class="fa fa-caret-up"></span>
        </a>
    </td>
  </tr>
</thead>
  <tbody>
    <tr ng-repeat="seed in ic.inventory | orderBy:sortType:sortReverse">
      <td>{{ seed.crop }}</td>
      <td>{{ seed.variety }}</td>
      <td>{{ seed.purchasedate }}</td>
      <td>{{ seed.lotnum }}</td>
      <td>{{ seed.quantity }}</td>
      <td>{{ seed.itemcode }}</td>
      <td>{{ seed.organic}}</td>
      <td>{{ seed.untreated }}</td>
      <td>{{ seed.nongmo }}</td>
      <td>{{ seed.seedcheck }}</td>
    </tr>
  </tbody>
</table>
</div>

<!-- add seed modal -->
<div class="add-seed-modal container">
  <script type="text/ng-template" id="addSeedModalContent.html">
    <div class="modal-header">
      <h3>Add a New Seed to Inventory</h3>
    </div>
    <div class="modal-body col-xs-12">
      <div class="col-xs-12">
        <label class="col-xs-4">Crop: </label>
        <input type="text" ng-model="asmic.crop" class="col-xs-8">
      </div>
      <div class="col-xs-12">
        <label class="col-xs-4">Variety: </label>
        <input type="text" ng-model="asmic.variety" class="col-xs-8">
      </div>
      <div class="col-xs-12">
        <label class="col-xs-4">Purchase Date: </label>
        <input type="date" ng-model="asmic.purchasedate" class="col-xs-8">
      </div>
      <div class="col-xs-12">
        <label class="col-xs-4">Lot #: </label>
        <input type="text" ng-model="asmic.lotnum" class="col-xs-8">
      </div>
      <div class="col-xs-12">
        <label class="col-xs-4">Quantity: </label>
        <input type="text" ng-model="asmic.quantity" class="col-xs-8">
      </div>
      <div class="col-xs-12">
        <label class="col-xs-4">Item Code: </label>
        <input type="text" ng-model="asmic.itemcode" class="col-xs-8">
      </div>
      <div class="col-xs-12">
        <label class="col-xs-3">Organic: </label>
        <label class="col-xs-3">Untreated: </label>
        <label class="col-xs-3">NonGMO: </label>
      </div>
      <div class="col-xs-12">
        <input type="checkbox" ng-model="asmic.organic" class="checkbox-seeds col-xs-3">
        <input type="checkbox" ng-model="asmic.untreated" class="checkbox-seeds col-xs-3">
        <input type="checkbox" ng-model="asmic.nongmo" class="checkbox-seeds col-xs-3">
      </div>
      <div class="col-xs-12">
        <label class="col-xs-6">Seed Check Sources: </label>
        <textarea rows="4" ng-model="asmic.seedcheck" class="col-xs-6"></textarea>
      </div>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-default btn-success" ng-click="asmic.addNewSeed(12344)" >
        Save
      </button>
      <button type="button" class="btn btn-default btn-danger" ng-click="asmic.clearSeedInputs()">
        Cancel
      </button>
    </div>
  </script>
</div>
